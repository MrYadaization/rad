name: Build

on:
  push:
    branches: [ master ]
    paths-ignore:
      - '**.md'
      - 'LICENSE'
      - '.clang-format'
      - 'data/**'
  pull_request:
    branches: [ master ]
    paths-ignore:
      - '**.md'
      - 'LICENSE'
      - '.clang-format'
  workflow_dispatch:

jobs:
  format:
    uses: ./.github/workflows/clang-format.yml
  build-linux:
    needs: format
    uses: ./.github/workflows/build-linux.yml
  build-msvc:
    needs: format
    uses: ./.github/workflows/build-msvc.yml
